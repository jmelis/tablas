{"version":3,"sources":["components/home.js","components/results.js","components/game.js","App.js","reportWebVitals.js","index.js"],"names":["Home","handleGameStart","inputs","levels","map","l","type","value","onClick","appendToLocalStorageKey","key","data","storedData","localStorage","getItem","JSON","parse","getStorageKey","setItem","stringify","concat","Results","setPage","levelName","gameTimestamp","totalTime","length","numItems","questionTimes","i","tsPrevious","label","tQuestion","push","sort","a","b","useEffect","qt","className","e","preventDefault","Game","useState","Date","now","setData","qIndex","setqIndex","qLabel","setqLabel","level","find","questions","array","j","Math","floor","random","temp","shuffleArray","gameOnGoing","App","setLevelName","page","router","target","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2ad7a6ad.chunk.js","sourcesContent":["function Home({ handleGameStart, levels}) {\n    const inputs = levels.map(l => <input key={l['name']} type='button' value={l['name']} onClick={handleGameStart} />);\n    return (<div>{inputs}</div>);\n}\nexport default Home;\n","import { useEffect, useMemo } from \"react\";\n\nfunction getStorageKey(key) {\n    let data = localStorage.getItem(key);\n    if (!data) {\n        data = [];\n    } else {\n        data = JSON.parse(data);\n    }\n    return data;\n}\n\nfunction appendToLocalStorageKey(key, data) {\n    const storedData = getStorageKey(key);\n    localStorage.setItem(key, JSON.stringify(storedData.concat(data)));\n}\n\nfunction Results({ data, setPage, levelName }) {\n    function handleHome(e) {\n        e.preventDefault();\n        setPage('home');\n    }\n\n    const gameTimestamp = data[0] / 1e3;\n    const totalTime = (data[data.length - 1] - data[0]) / 1e3;\n    const numItems = (data.length - 1) / 2;\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    let questionTimes = [];\n    for (let i = 0; i < numItems; i++) {\n        const tsPrevious = data[2*i];\n        const label = data[2*i + 1];\n        const tsQuestion = data[2*i + 2];\n        const tQuestion = (tsQuestion - tsPrevious) / 1e3;\n        questionTimes.push([i+1, label, tQuestion]);\n    }\n\n    questionTimes.sort((a, b) => b[2] - a[2]);\n\n    useEffect(() => {\n        appendToLocalStorageKey('questions', questionTimes.map(qt => [gameTimestamp, levelName, qt[1], qt[2]]));\n        appendToLocalStorageKey('games', [[gameTimestamp, levelName, numItems, totalTime]]);\n    }, [gameTimestamp, levelName, numItems, questionTimes, totalTime]);\n\n    return (<div className=\"results\">\n        <div>levelName: {levelName}</div>\n        <div>timestamp: {gameTimestamp}</div>\n        <div>total time: {totalTime}</div>\n        <div>numItems: {numItems}</div>\n        <div><ul>{questionTimes.map(e => <li key={e[0]}><pre>({e[0]}) {e[1]} time {e[2]}s</pre></li>)}</ul></div>\n        <div><input type='button' value='home' onClick={handleHome} /></div>\n    </div>)\n}\n\nexport default Results;\n","import React, { useState, useEffect } from 'react';\nimport Results from './results.js';\n\n// https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array\n/* Randomize array in-place using Durstenfeld shuffle algorithm */\nfunction shuffleArray(array) {\n    for (var i = array.length - 1; i > 0; i--) {\n        var j = Math.floor(Math.random() * (i + 1));\n        var temp = array[i];\n        array[i] = array[j];\n        array[j] = temp;\n    }\n}\n\nfunction Game({ setPage, levelName, levels }) {\n    const [data, setData] = useState([Date.now()]);\n    const [qIndex, setqIndex] = useState(0);\n    const [qLabel, setqLabel] = useState();\n\n    const level = levels.find(l => l['name'] === levelName);\n    let questions = level['questions'];\n\n    useEffect(() => {\n        if (level['shuffle']) {\n            shuffleArray(questions);\n        };\n        setqLabel(questions[0]);\n    }, [level, questions]);\n\n    const gameOnGoing = qIndex + 1 <= questions.length;\n\n    function handleNext(e) {\n      e.preventDefault();\n      setData(data.concat([questions[qIndex], Date.now()]));\n      setqLabel(questions[qIndex + 1]);\n      setqIndex(qIndex + 1);\n    }\n\n    return (\n      <div>\n        {gameOnGoing && <div className=\"Game\">\n          <div>count: {qIndex + 1} / {questions.length}</div>\n          <div>{qLabel}</div>\n          <input type='button' value='next' onClick={handleNext}/>\n        </div>}\n\n        {!gameOnGoing && <Results setPage={setPage} data={data} levelName={levelName} />}\n      </div>\n    )\n}\n\nexport default Game;\n","import React, { useState } from 'react';\n\nimport Home from './components/home.js';\nimport Game from './components/game.js';\nimport levels from './assets/levels.json';\n\nimport './App.css';\n\nfunction App() {\n  const [levelName, setLevelName] = useState();\n  const [page, setPage] = useState('home');\n\n  function handleGameStart(e) {\n    setLevelName(e.target.value);\n    setPage('game');\n  };\n\n  const router = {\n    'home': <Home handleGameStart={handleGameStart} levels={levels} />,\n    'game': <Game levelName={levelName} levels={levels} setPage={setPage}/>,\n  };\n\n  return (\n    <div className=\"App\">\n      {router[page]}\n    </div>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}